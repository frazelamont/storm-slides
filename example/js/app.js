(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
'use strict';

var _component = require('./libs/component');

var _component2 = _interopRequireDefault(_component);

function _interopRequireDefault(obj) {
    return obj && obj.__esModule ? obj : { default: obj };
}

var onDOMContentLoadedTasks = [function () {
    _component2.default.init('.js-slides-default');
    _component2.default.init('.js-slides-autoplay', { autoPlay: true, slideDuration: 3 });
}];

if ('addEventListener' in window) window.addEventListener('DOMContentLoaded', function () {
    onDOMContentLoadedTasks.forEach(function (fn) {
        return fn();
    });
});

},{"./libs/component":2}],2:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _defaults = require('./lib/defaults');

var _defaults2 = _interopRequireDefault(_defaults);

var _componentPrototype = require('./lib/component-prototype');

var _componentPrototype2 = _interopRequireDefault(_componentPrototype);

function _interopRequireDefault(obj) {
	return obj && obj.__esModule ? obj : { default: obj };
}

var init = function init(sel, opts) {
	var els = [].slice.call(document.querySelectorAll(sel));
	//let els = Array.from(document.querySelectorAll(sel));

	if (!els.length) throw new Error('Slides not initialised, no augmentable elements found');

	return els.map(function (el) {
		return Object.assign(Object.create(_componentPrototype2.default), {
			node: el,
			settings: Object.assign({}, _defaults2.default, opts)
		}).init();
	});
};

exports.default = { init: init };

},{"./lib/component-prototype":3,"./lib/defaults":4}],3:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
var KEY_CODES = {
	ENTER: 13
},
    TRIGGER_EVENTS = ['click', 'keydown'];

exports.default = {
	init: function init() {
		var _this = this;

		this.slides = [].slice.call(this.node.querySelectorAll(this.settings.itemSelector)).map(function (slide) {
			return {
				unloadedImgs: [].slice.call(slide.querySelectorAll('[data-srcset], [data-src]')),
				container: slide
			};
		});

		this.nextButton = this.node.querySelector(this.settings.buttonNextSelector);
		this.previousButton = this.node.querySelector(this.settings.buttonPreviousSelector);
		this.navItems = [].slice.call(this.node.querySelectorAll(this.settings.navItemSelector));

		if (this.navItems.length > 0 && this.navItems.length !== this.slides.length) throw new Error('Slide navigation does not match the number of slides.');

		this.notification = this.node.querySelector(this.settings.liveRegionSelector);
		this.setCurrent(this.settings.startIndex);
		this.slides[this.currentIndex].container.classList.add(this.settings.activeClass);
		this.initHandlers();
		this.settings.preload ? this.slides.forEach(function (slide, i) {
			_this.loadImage(i);
		}) : this.loadImages(this.settings.startIndex);
		this.settings.autoPlay ? this.autoPlay(this.settings.slideDuration) : null;
		return this;
	},
	initHandlers: function initHandlers() {
		var _this2 = this;

		TRIGGER_EVENTS.forEach(function (ev) {
			['previous', 'next'].forEach(function (type) {
				if (_this2[type + 'Button']) _this2[type + 'Button'].addEventListener(ev, function (e) {
					if (e.keyCode && e.keyCode !== KEY_CODES.ENTER) return;
					_this2[type]();
				});
			});
			_this2.navItems.length > 0 && _this2.navItems.forEach(function (item, i) {
				item.addEventListener(ev, function (e) {
					if (e.keyCode && e.keyCode !== KEY_CODES.ENTER) return;
					_this2.change(i);
				});
			});
		});
	},
	loadImage: function loadImage(i) {
		var _this3 = this;

		if (!this.slides[i].unloadedImgs.length) return;

		this.slides[i].container.classList.add(this.settings.loadingClass);
		this.slides[i].unloadedImgs = this.slides[i].unloadedImgs.reduce(function (acc, el) {
			['src', 'srcset'].forEach(function (type) {
				if (el.hasAttribute('data-' + type)) {
					el.setAttribute(type, el.getAttribute('data-' + type));
					el.removeAttribute('data-' + type);
				}
				_this3.slides[i].container.classList.remove(_this3.settings.loadingClass);
			});
			return acc;
		}, []);
	},
	loadImages: function loadImages(i) {
		var _this4 = this;

		if (!this.node.querySelector('[data-src], [data-srcset]')) return;
		var indexes = [i];

		if (this.slides.length > 1) indexes.push(i === 0 ? this.slides.length - 1 : i - 1);
		if (this.slides.length > 2) indexes.push(i === this.slides.length - 1 ? 0 : i + 1);

		indexes.forEach(function (idx) {
			_this4.loadImage(idx);
		});
	},
	reset: function reset() {
		this.slides[this.currentIndex].container.classList.remove(this.settings.activeClass);
		this.slides[this.currentIndex].container.removeAttribute('tabindex');
		this.navItems.length && this.navItems[this.currentIndex].removeAttribute('aria-current');

		var previouslyHidden = this.node.querySelector('.' + this.settings.hidePreviousClass),
		    previouslyShown = this.node.querySelector('.' + this.settings.showPreviousClass),
		    nextShown = this.node.querySelector('.' + this.settings.showNextClass),
		    nextHidden = this.node.querySelector('.' + this.settings.hideNextClass);

		previouslyHidden && previouslyHidden.classList.remove(this.settings.hidePreviousClass);
		previouslyShown && previouslyShown.classList.remove(this.settings.showPreviousClass);
		nextShown && nextShown.classList.remove(this.settings.showNextClass);
		nextHidden && nextHidden.classList.remove(this.settings.hideNextClass);
	},
	next: function next() {
		this.change(this.currentIndex === this.slides.length - 1 ? 0 : this.currentIndex + 1);
	},
	previous: function previous() {
		this.change(this.currentIndex === 0 ? this.slides.length - 1 : this.currentIndex - 1);
	},
	change: function change(index) {
		if (index === this.currentIndex) return;

		this.reset();

		index = index === -1 ? this.slides.length - 1 : index === this.slides.length ? 0 : index;

		this.loadImages(index);

		var isForwards = (index > this.currentIndex || index === 0 && this.currentIndex === this.slides.length - 1) && !(index === this.slides.length - 1 && this.currentIndex === 0);

		this.slides[this.currentIndex].container.classList.add(isForwards ? this.settings.hidePreviousClass : this.settings.hideNextClass);
		this.slides[index].container.classList.add('' + (isForwards ? this.settings.showNextClass : this.settings.showPreviousClass));
		this.setCurrent(index);

		this.settings.callback && typeof this.settings.callback === 'function' && this.settings.callback();
	},
	setCurrent: function setCurrent(i) {
		this.slides[i].container.classList.add(this.settings.activeClass);
		this.slides[i].container.setAttribute('tabindex', '-1');
		!this.settings.autoPlay && this.slides[i].container.focus();
		this.navItems.length && this.navItems[i].setAttribute('aria-current', true);
		this.notification.innerHTML = 'Slide ' + (i + 1) + ' of ' + this.slides.length;
		this.currentIndex = i;
	},
	autoPlay: function autoPlay(slideDuration) {
		var _this5 = this;

		this.interval = setInterval(function () {
			_this5.next();
		}, slideDuration ? slideDuration * 1000 : 5000);
	}
};

},{}],4:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.default = {
	buttonPreviousSelector: '.js-slides__previous',
	buttonNextSelector: '.js-slides__next',
	navItemSelector: '.js-slides__nav-item',
	itemSelector: '.js-slides__item',
	liveRegionSelector: '.js-slides__liveregion',
	loadingClass: 'is--loading',
	activeClass: 'is--current',
	showPreviousClass: 'show--previous',
	showNextClass: 'show--next',
	hidePreviousClass: 'hide--previous',
	hideNextClass: 'hide--next',
	isCarousel: true,
	startIndex: 0,
	preload: false,
	autoPlay: false,
	slideDuration: 5
};

},{}]},{},[1])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJleGFtcGxlL3NyYy9hcHAuanMiLCJleGFtcGxlL3NyYy9saWJzL2NvbXBvbmVudC9pbmRleC5qcyIsImV4YW1wbGUvc3JjL2xpYnMvY29tcG9uZW50L2xpYi9jb21wb25lbnQtcHJvdG90eXBlLmpzIiwiZXhhbXBsZS9zcmMvbGlicy9jb21wb25lbnQvbGliL2RlZmF1bHRzLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7QUNBQTs7Ozs7Ozs7QUFFQSxJQUFNLDJCQUEyQixZQUFNLEFBQ25DO3dCQUFBLEFBQU8sS0FBUCxBQUFZLEFBQ1o7d0JBQUEsQUFBTyxLQUFQLEFBQVksdUJBQXVCLEVBQUUsVUFBRixBQUFZLE1BQU0sZUFBckQsQUFBbUMsQUFBaUMsQUFDdkU7QUFIRCxBQUFnQyxDQUFBOztBQUtoQyxJQUFHLHNCQUFILEFBQXlCLGVBQVEsQUFBTyxpQkFBUCxBQUF3QixvQkFBb0IsWUFBTSxBQUFFOzRCQUFBLEFBQXdCLFFBQVEsVUFBQSxBQUFDLElBQUQ7ZUFBQSxBQUFRO0FBQXhDLEFBQWdEO0FBQXBHLENBQUE7Ozs7Ozs7OztBQ1BqQzs7OztBQUNBOzs7Ozs7OztBQUVBLElBQU0sT0FBTyxTQUFQLEFBQU8sS0FBQSxBQUFDLEtBQUQsQUFBTSxNQUFTLEFBQzNCO0tBQUksTUFBTSxHQUFBLEFBQUcsTUFBSCxBQUFTLEtBQUssU0FBQSxBQUFTLGlCQUFqQyxBQUFVLEFBQWMsQUFBMEIsQUFDL0M7QUFFSDs7S0FBRyxDQUFDLElBQUosQUFBUSxRQUFRLE1BQU0sSUFBQSxBQUFJLE1BQVYsQUFBTSxBQUFVLEFBRWhDOztZQUFPLEFBQUksSUFBSSxVQUFBLEFBQUMsSUFBTyxBQUN0QjtnQkFBTyxBQUFPLE9BQU8sT0FBQSxBQUFPLDRCQUFyQjtTQUFpRCxBQUNqRCxBQUNOO2FBQVUsT0FBQSxBQUFPLE9BQVAsQUFBYyx3QkFGbEIsQUFBaUQsQUFFN0MsQUFBNEI7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LEFBQWdDLE9BRm5DLEFBQWdCLEFBRTBCLEFBQzdDO0EsQUFoSFU7QUFBQSxBQUNkOzs7Ozs7Ozs7eUJDTmMsQUFDVSxBQUN4QjtxQkFGYyxBQUVNLEFBQ3BCO2tCQUhjLEFBR0csQUFDakI7ZUFKYyxBQUlBLEFBQ2Q7cUJBTGMsQUFLTSxBQUNwQjtlQU5jLEFBTUEsQUFDZDtjQVBjLEFBT0QsQUFDYjtvQkFSYyxBQVFLLEFBQ25CO2dCQVRjLEFBU0MsQUFDZjtvQkFWYyxBQVVLLEFBQ25CO2dCQVhjLEFBV0MsQUFDZjthQVpjLEFBWUYsQUFDWjthQWJjLEFBYUYsQUFDWjtVQWRjLEFBY0wsQUFDVDtXQWZjLEFBZUosQUFDVjtnQixBQWhCYyxBQWdCQztBQWhCRCxBQUNkIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsImltcG9ydCBTbGlkZXMgZnJvbSAnLi9saWJzL2NvbXBvbmVudCc7XG5cbmNvbnN0IG9uRE9NQ29udGVudExvYWRlZFRhc2tzID0gWygpID0+IHtcbiAgICBTbGlkZXMuaW5pdCgnLmpzLXNsaWRlcy1kZWZhdWx0Jyk7XG4gICAgU2xpZGVzLmluaXQoJy5qcy1zbGlkZXMtYXV0b3BsYXknLCB7IGF1dG9QbGF5OiB0cnVlLCBzbGlkZUR1cmF0aW9uOiAzIH0pO1xufV07XG4gICAgXG5pZignYWRkRXZlbnRMaXN0ZW5lcicgaW4gd2luZG93KSB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsICgpID0+IHsgb25ET01Db250ZW50TG9hZGVkVGFza3MuZm9yRWFjaCgoZm4pID0+IGZuKCkpOyB9KTsiLCJpbXBvcnQgZGVmYXVsdHMgZnJvbSAnLi9saWIvZGVmYXVsdHMnO1xuaW1wb3J0IGNvbXBvbmVudFByb3RvdHlwZSBmcm9tICcuL2xpYi9jb21wb25lbnQtcHJvdG90eXBlJztcblxuY29uc3QgaW5pdCA9IChzZWwsIG9wdHMpID0+IHtcblx0bGV0IGVscyA9IFtdLnNsaWNlLmNhbGwoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWwpKTtcbiAgICAvL2xldCBlbHMgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsKSk7XG5cblx0aWYoIWVscy5sZW5ndGgpIHRocm93IG5ldyBFcnJvcignU2xpZGVzIG5vdCBpbml0aWFsaXNlZCwgbm8gYXVnbWVudGFibGUgZWxlbWVudHMgZm91bmQnKTtcbiAgICBcblx0cmV0dXJuIGVscy5tYXAoKGVsKSA9PiB7XG5cdFx0cmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShjb21wb25lbnRQcm90b3R5cGUpLCB7XG5cdFx0XHRub2RlOiBlbCxcblx0XHRcdHNldHRpbmdzOiBPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0cywgb3B0cylcblx0XHR9KS5pbml0KCk7XG5cdH0pO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgeyBpbml0IH07IiwiY29uc3QgS0VZX0NPREVTID0ge1xuXHRcdEVOVEVSOiAxM1xuXHR9LFxuXHRUUklHR0VSX0VWRU5UUyA9IFsnY2xpY2snLCAna2V5ZG93bicgXTtcblxuZXhwb3J0IGRlZmF1bHQge1xuXHRpbml0KCl7XG5cdFx0dGhpcy5zbGlkZXMgPSBbXS5zbGljZS5jYWxsKHRoaXMubm9kZS5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuc2V0dGluZ3MuaXRlbVNlbGVjdG9yKSlcblx0XHRcdFx0XHRcdC5tYXAoc2xpZGUgPT4gKHtcblx0XHRcdFx0XHRcdFx0dW5sb2FkZWRJbWdzOiBbXS5zbGljZS5jYWxsKHNsaWRlLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXNyY3NldF0sIFtkYXRhLXNyY10nKSksXG5cdFx0XHRcdFx0XHRcdGNvbnRhaW5lcjogc2xpZGVcblx0XHRcdFx0XHRcdH0pKTtcblxuXHRcdHRoaXMubmV4dEJ1dHRvbiA9IHRoaXMubm9kZS5xdWVyeVNlbGVjdG9yKHRoaXMuc2V0dGluZ3MuYnV0dG9uTmV4dFNlbGVjdG9yKTtcblx0XHR0aGlzLnByZXZpb3VzQnV0dG9uID0gdGhpcy5ub2RlLnF1ZXJ5U2VsZWN0b3IodGhpcy5zZXR0aW5ncy5idXR0b25QcmV2aW91c1NlbGVjdG9yKTtcblx0XHR0aGlzLm5hdkl0ZW1zID0gW10uc2xpY2UuY2FsbCh0aGlzLm5vZGUucXVlcnlTZWxlY3RvckFsbCh0aGlzLnNldHRpbmdzLm5hdkl0ZW1TZWxlY3RvcikpO1xuXG5cdFx0aWYodGhpcy5uYXZJdGVtcy5sZW5ndGggPiAwICYmIHRoaXMubmF2SXRlbXMubGVuZ3RoICE9PSB0aGlzLnNsaWRlcy5sZW5ndGgpIHRocm93IG5ldyBFcnJvcignU2xpZGUgbmF2aWdhdGlvbiBkb2VzIG5vdCBtYXRjaCB0aGUgbnVtYmVyIG9mIHNsaWRlcy4nKTtcblxuXHRcdHRoaXMubm90aWZpY2F0aW9uID0gdGhpcy5ub2RlLnF1ZXJ5U2VsZWN0b3IodGhpcy5zZXR0aW5ncy5saXZlUmVnaW9uU2VsZWN0b3IpO1xuXHRcdHRoaXMuc2V0Q3VycmVudCh0aGlzLnNldHRpbmdzLnN0YXJ0SW5kZXgpO1xuXHRcdHRoaXMuc2xpZGVzW3RoaXMuY3VycmVudEluZGV4XS5jb250YWluZXIuY2xhc3NMaXN0LmFkZCh0aGlzLnNldHRpbmdzLmFjdGl2ZUNsYXNzKTtcblx0XHR0aGlzLmluaXRIYW5kbGVycygpO1xuXHRcdHRoaXMuc2V0dGluZ3MucHJlbG9hZCA/IHRoaXMuc2xpZGVzLmZvckVhY2goKHNsaWRlLCBpKSA9PiB7IHRoaXMubG9hZEltYWdlKGkpOyB9KSA6IHRoaXMubG9hZEltYWdlcyh0aGlzLnNldHRpbmdzLnN0YXJ0SW5kZXgpO1xuICAgICAgICB0aGlzLnNldHRpbmdzLmF1dG9QbGF5ID8gdGhpcy5hdXRvUGxheSh0aGlzLnNldHRpbmdzLnNsaWRlRHVyYXRpb24pIDogbnVsbDtcblx0XHRyZXR1cm4gdGhpcztcblx0fSxcblx0aW5pdEhhbmRsZXJzKCl7XG5cdFx0VFJJR0dFUl9FVkVOVFMuZm9yRWFjaChldiA9PiB7XG5cdFx0XHRbJ3ByZXZpb3VzJywgJ25leHQnXS5mb3JFYWNoKHR5cGUgPT4ge1xuXHRcdFx0XHRpZih0aGlzW2Ake3R5cGV9QnV0dG9uYF0pIHRoaXNbYCR7dHlwZX1CdXR0b25gXS5hZGRFdmVudExpc3RlbmVyKGV2LCBlID0+IHtcblx0XHRcdFx0XHRpZihlLmtleUNvZGUgJiYgZS5rZXlDb2RlICE9PSBLRVlfQ09ERVMuRU5URVIpIHJldHVybjtcblx0XHRcdFx0XHR0aGlzW3R5cGVdKCk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSk7XG5cdFx0XHR0aGlzLm5hdkl0ZW1zLmxlbmd0aCA+IDAgJiYgdGhpcy5uYXZJdGVtcy5mb3JFYWNoKChpdGVtLCBpKVx0ID0+IHtcblx0XHRcdFx0aXRlbS5hZGRFdmVudExpc3RlbmVyKGV2LCBlID0+IHtcblx0XHRcdFx0XHRpZihlLmtleUNvZGUgJiYgZS5rZXlDb2RlICE9PSBLRVlfQ09ERVMuRU5URVIpIHJldHVybjtcblx0XHRcdFx0XHR0aGlzLmNoYW5nZShpKTtcblx0XHRcdFx0fSlcblx0XHRcdH0pO1xuXHRcdH0pO1xuXHR9LFxuXHRsb2FkSW1hZ2UoaSl7XG5cdFx0aWYoIXRoaXMuc2xpZGVzW2ldLnVubG9hZGVkSW1ncy5sZW5ndGgpIHJldHVybjtcblx0XHRcblx0XHR0aGlzLnNsaWRlc1tpXS5jb250YWluZXIuY2xhc3NMaXN0LmFkZCh0aGlzLnNldHRpbmdzLmxvYWRpbmdDbGFzcyk7XG5cdFx0dGhpcy5zbGlkZXNbaV0udW5sb2FkZWRJbWdzID0gdGhpcy5zbGlkZXNbaV0udW5sb2FkZWRJbWdzLnJlZHVjZSgoYWNjLCBlbCkgPT4ge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFsnc3JjJywgJ3NyY3NldCddLmZvckVhY2godHlwZSA9PiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZihlbC5oYXNBdHRyaWJ1dGUoYGRhdGEtJHt0eXBlfWApKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGVsLnNldEF0dHJpYnV0ZSh0eXBlLCBlbC5nZXRBdHRyaWJ1dGUoYGRhdGEtJHt0eXBlfWApKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZWwucmVtb3ZlQXR0cmlidXRlKGBkYXRhLSR7dHlwZX1gKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHRoaXMuc2xpZGVzW2ldLmNvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuc2V0dGluZ3MubG9hZGluZ0NsYXNzKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gYWNjO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR9LCBbXSk7XG5cdH0sXG5cdGxvYWRJbWFnZXMoaSl7XG5cdFx0aWYoIXRoaXMubm9kZS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zcmNdLCBbZGF0YS1zcmNzZXRdJykpIHJldHVybjtcblx0XHRsZXQgaW5kZXhlcyA9IFtpXTtcblxuXHRcdGlmKHRoaXMuc2xpZGVzLmxlbmd0aCA+IDEpIGluZGV4ZXMucHVzaChpID09PSAwID8gdGhpcy5zbGlkZXMubGVuZ3RoIC0gMSA6IGkgLSAxKTtcblx0XHRpZih0aGlzLnNsaWRlcy5sZW5ndGggPiAyKSBpbmRleGVzLnB1c2goaSA9PT0gdGhpcy5zbGlkZXMubGVuZ3RoIC0gMSA/IDAgOiBpICsgMSk7XG5cblx0XHRpbmRleGVzLmZvckVhY2goaWR4ID0+IHsgdGhpcy5sb2FkSW1hZ2UoaWR4KSB9KTtcblx0fSxcblx0cmVzZXQoKXtcblx0XHR0aGlzLnNsaWRlc1t0aGlzLmN1cnJlbnRJbmRleF0uY29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5zZXR0aW5ncy5hY3RpdmVDbGFzcyk7XG5cdFx0dGhpcy5zbGlkZXNbdGhpcy5jdXJyZW50SW5kZXhdLmNvbnRhaW5lci5yZW1vdmVBdHRyaWJ1dGUoJ3RhYmluZGV4Jyk7XG5cdFx0dGhpcy5uYXZJdGVtcy5sZW5ndGggJiYgdGhpcy5uYXZJdGVtc1t0aGlzLmN1cnJlbnRJbmRleF0ucmVtb3ZlQXR0cmlidXRlKCdhcmlhLWN1cnJlbnQnKTtcblxuXHRcdGxldCBwcmV2aW91c2x5SGlkZGVuID0gdGhpcy5ub2RlLnF1ZXJ5U2VsZWN0b3IoYC4ke3RoaXMuc2V0dGluZ3MuaGlkZVByZXZpb3VzQ2xhc3N9YCksXG5cdFx0XHRwcmV2aW91c2x5U2hvd24gPSB0aGlzLm5vZGUucXVlcnlTZWxlY3RvcihgLiR7dGhpcy5zZXR0aW5ncy5zaG93UHJldmlvdXNDbGFzc31gKSxcblx0XHRcdG5leHRTaG93biA9IHRoaXMubm9kZS5xdWVyeVNlbGVjdG9yKGAuJHt0aGlzLnNldHRpbmdzLnNob3dOZXh0Q2xhc3N9YCksXG5cdFx0XHRuZXh0SGlkZGVuID0gdGhpcy5ub2RlLnF1ZXJ5U2VsZWN0b3IoYC4ke3RoaXMuc2V0dGluZ3MuaGlkZU5leHRDbGFzc31gKTtcblxuXHRcdHByZXZpb3VzbHlIaWRkZW4gJiYgcHJldmlvdXNseUhpZGRlbi5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuc2V0dGluZ3MuaGlkZVByZXZpb3VzQ2xhc3MpO1xuXHRcdHByZXZpb3VzbHlTaG93biAmJiBwcmV2aW91c2x5U2hvd24uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLnNldHRpbmdzLnNob3dQcmV2aW91c0NsYXNzKTtcblx0XHRuZXh0U2hvd24gJiYgbmV4dFNob3duLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5zZXR0aW5ncy5zaG93TmV4dENsYXNzKTtcblx0XHRuZXh0SGlkZGVuICYmIG5leHRIaWRkZW4uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLnNldHRpbmdzLmhpZGVOZXh0Q2xhc3MpO1xuXHR9LFxuXHRuZXh0KCl7XG5cdFx0dGhpcy5jaGFuZ2UoKHRoaXMuY3VycmVudEluZGV4ID09PSB0aGlzLnNsaWRlcy5sZW5ndGggLSAxID8gMCA6IHRoaXMuY3VycmVudEluZGV4ICsgMSkpO1xuXHR9LFxuXHRwcmV2aW91cygpe1xuXHRcdHRoaXMuY2hhbmdlKCh0aGlzLmN1cnJlbnRJbmRleCA9PT0gMCA/IHRoaXMuc2xpZGVzLmxlbmd0aCAtIDEgOiB0aGlzLmN1cnJlbnRJbmRleCAtIDEpKTtcblx0fSxcblx0Y2hhbmdlKGluZGV4KXtcblx0XHRpZiAoaW5kZXggPT09IHRoaXMuY3VycmVudEluZGV4KSByZXR1cm47XG5cdFx0XG5cdFx0dGhpcy5yZXNldCgpO1xuXG5cdFx0aW5kZXggPSBpbmRleCA9PT0gLTEgPyB0aGlzLnNsaWRlcy5sZW5ndGggLSAxIDogaW5kZXggPT09IHRoaXMuc2xpZGVzLmxlbmd0aCA/IDAgOiBpbmRleDtcblxuXHRcdHRoaXMubG9hZEltYWdlcyhpbmRleCk7XG5cdFx0XG5cdFx0bGV0IGlzRm9yd2FyZHMgPSAoaW5kZXggPiB0aGlzLmN1cnJlbnRJbmRleCB8fCBpbmRleCA9PT0gMCAmJiB0aGlzLmN1cnJlbnRJbmRleCA9PT0gdGhpcy5zbGlkZXMubGVuZ3RoIC0gMSkgJiYgIShpbmRleCA9PT0gKHRoaXMuc2xpZGVzLmxlbmd0aCAtIDEpICYmIHRoaXMuY3VycmVudEluZGV4ID09PSAwKTtcblx0XHRcblx0XHR0aGlzLnNsaWRlc1t0aGlzLmN1cnJlbnRJbmRleF0uY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoaXNGb3J3YXJkcyA/IHRoaXMuc2V0dGluZ3MuaGlkZVByZXZpb3VzQ2xhc3MgOiB0aGlzLnNldHRpbmdzLmhpZGVOZXh0Q2xhc3MpO1xuXHRcdHRoaXMuc2xpZGVzW2luZGV4XS5jb250YWluZXIuY2xhc3NMaXN0LmFkZChgJHtpc0ZvcndhcmRzID8gdGhpcy5zZXR0aW5ncy5zaG93TmV4dENsYXNzIDogdGhpcy5zZXR0aW5ncy5zaG93UHJldmlvdXNDbGFzc31gKTtcblx0XHR0aGlzLnNldEN1cnJlbnQoaW5kZXgpO1xuXHRcdFxuXHRcdCh0aGlzLnNldHRpbmdzLmNhbGxiYWNrICYmIHR5cGVvZiB0aGlzLnNldHRpbmdzLmNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSAmJiB0aGlzLnNldHRpbmdzLmNhbGxiYWNrKCk7XG5cdH0sXG5cdHNldEN1cnJlbnQoaSl7XG5cdFx0dGhpcy5zbGlkZXNbaV0uY29udGFpbmVyLmNsYXNzTGlzdC5hZGQodGhpcy5zZXR0aW5ncy5hY3RpdmVDbGFzcyk7XG5cdFx0dGhpcy5zbGlkZXNbaV0uY29udGFpbmVyLnNldEF0dHJpYnV0ZSgndGFiaW5kZXgnLCAnLTEnKTtcblx0XHQhdGhpcy5zZXR0aW5ncy5hdXRvUGxheSAmJiB0aGlzLnNsaWRlc1tpXS5jb250YWluZXIuZm9jdXMoKTtcblx0XHR0aGlzLm5hdkl0ZW1zLmxlbmd0aCAmJiB0aGlzLm5hdkl0ZW1zW2ldLnNldEF0dHJpYnV0ZSgnYXJpYS1jdXJyZW50JywgdHJ1ZSk7XG5cdFx0dGhpcy5ub3RpZmljYXRpb24uaW5uZXJIVE1MID0gYFNsaWRlICR7aSArIDF9IG9mICR7dGhpcy5zbGlkZXMubGVuZ3RofWA7XG5cdFx0dGhpcy5jdXJyZW50SW5kZXggPSBpO1xuICAgIH0sXG4gICAgYXV0b1BsYXkoc2xpZGVEdXJhdGlvbikge1xuICAgICAgICB0aGlzLmludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5uZXh0KCk7XG4gICAgICAgIH0sIHNsaWRlRHVyYXRpb24gPyBzbGlkZUR1cmF0aW9uICogMTAwMCA6IDUwMDApO1xuICAgIH1cbn07IiwiZXhwb3J0IGRlZmF1bHQge1xuXHRidXR0b25QcmV2aW91c1NlbGVjdG9yOiAnLmpzLXNsaWRlc19fcHJldmlvdXMnLFxuXHRidXR0b25OZXh0U2VsZWN0b3I6ICcuanMtc2xpZGVzX19uZXh0Jyxcblx0bmF2SXRlbVNlbGVjdG9yOiAnLmpzLXNsaWRlc19fbmF2LWl0ZW0nLFxuXHRpdGVtU2VsZWN0b3I6ICcuanMtc2xpZGVzX19pdGVtJyxcblx0bGl2ZVJlZ2lvblNlbGVjdG9yOiAnLmpzLXNsaWRlc19fbGl2ZXJlZ2lvbicsXG5cdGxvYWRpbmdDbGFzczogJ2lzLS1sb2FkaW5nJyxcblx0YWN0aXZlQ2xhc3M6ICdpcy0tY3VycmVudCcsXG5cdHNob3dQcmV2aW91c0NsYXNzOiAnc2hvdy0tcHJldmlvdXMnLFxuXHRzaG93TmV4dENsYXNzOiAnc2hvdy0tbmV4dCcsXG5cdGhpZGVQcmV2aW91c0NsYXNzOiAnaGlkZS0tcHJldmlvdXMnLFxuXHRoaWRlTmV4dENsYXNzOiAnaGlkZS0tbmV4dCcsXG5cdGlzQ2Fyb3VzZWw6IHRydWUsXG5cdHN0YXJ0SW5kZXg6IDAsXG5cdHByZWxvYWQ6IGZhbHNlLFxuXHRhdXRvUGxheTogZmFsc2UsXG5cdHNsaWRlRHVyYXRpb246IDVcbn07Il19
